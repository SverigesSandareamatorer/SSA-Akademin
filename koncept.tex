%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  KonCEPT för amatörradiocertifikat
% Föreningen Sveriges Sändareamatörer
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% LaTeX-dokument behöver ha en klass. report är snarlik book.
\documentclass[10pt,openright]{report}
%
% Sätt sidstorlek och marginaler.
\usepackage[
  a4paper,
  twoside,
  twocolumn,
  inner=2.2cm,
  outer=1.9cm,
  columnsep=0.9cm,
  top=2cm,
  bottom=2cm
]{geometry}
%
% Kunna generera bl.a. svenska tecken.
\usepackage[T1]{fontenc}
%
% Tillåt bl.a. svenska tecken (UTF-8) i källkoden.
\usepackage[utf8]{inputenc}
%
% Svenska: format, avstavning m.m.
\usepackage[swedish]{babel}
\extraswedish
%
% Paketet definierar en miljö tabularx, en förlängning av tabulär som har en
% extra kolumnbeteckning, X, som skapar en styckeliknande kolumn vars bredd
% automatiskt expanderar så att den deklarerade bredden av miljön fylls.
\usepackage{tabularx}
%
%% k7per: Uncomment this line if you want a black box at
%% each overfull hbox, comment for product.
%% \overfullrule=10pt
%
% Generera synkning av förhandsvisning av PDF med källkoden.
\synctex=1
%
% (Beskrivning saknas.)
\usepackage{xtab}
%
% Ett intelligent kommatecken, som ger rätt avstånd i decimaltal såväl som i
% matematiska uttryck. Till skillnad från andra kända lösningar, är detta paket
% inte beroende av kodningen av CM-mattesnitten, och det fungerar med decimaltal
% av godtycklig längd.
\usepackage{icomma}
%
% Latin Modern-familjen av teckensnitt består av 72 textteckensnitt och 20
% matematiska teckensnitt, och är baserad på Computer Modern-typsnitt som
% släppts till allmän egendom av AMS. Typsnittsuppsättningen lm innehåller många
% extra tecken, främst accentuerade, men inte enbart.
\usepackage{lmodern}
%
% (Beskrivning saknas.)
\usepackage[numbered]{bookmark}
%
% (Beskrivning saknas.)
\addto\captionsswedish{\renewcommand{\figurename}{Bild}}
%
% (Beskrivning saknas.)
\usepackage{amsmath}
%\usepackage{wrapfig}
%
% (Beskrivning saknas.)
\usepackage{framed}
%
% (Beskrivning saknas.)
\usepackage[fulladjust]{marginnote}
%
% (Beskrivning saknas.)
\usepackage{color}
%
% (Beskrivning saknas.)
\usepackage{amssymb}
%
% (Beskrivning saknas.)
\newcommand{\hilight}[1]{\colorbox{yellow}{#1}}
%
% (Beskrivning saknas.)
\usepackage[toctitles,raggedright]{titlesec}
%
% (Beskrivning saknas.)
\usepackage{hyperref}
\hypersetup{
    pdftitle={KonCEPT för amatörradiocertifikat},
    pdfauthor={Föreningen Sveriges Sändareamatörer},
    pdfkeywords={Sveriges Sändareamatörer, SSA, amatörradio},
    pdflang={sv},
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}
%
% För symbolen \boxbox (dubbelisolering), kräver paketet texlive-math-extra
\usepackage{stmaryrd}
%
% Tillhandahåller generiska kommandon \degree, \celsius, \perthousand, \micro
% och \ohm som fungerar både i text- och matematikläge.
\usepackage{gensymb}
%
% Paket för att typsätta SI-enheter och värden.
\usepackage{siunitx}
\sisetup{
    output-decimal-marker = {,},
    output-product = \cdot,
    retain-explicit-plus = true,
%    input-product = {*},
    product-units = single,
    per-mode = symbol,
    range-units = single,
    range-phrase = {--},
    separate-uncertainty=true,
    multi-part-units=single
}
%
% (Beskrivning saknas.)
\DeclareSIUnit\noop{\relax}
%
%% k7per: Swap these two definitions if you want a small Orange blob
%% behind the ref locations for ease of layout work.
\newcommand\ssaref[1]{\ref{#1}}
%% \newcommand\ssaref[1]{\setlength{\fboxsep}{0pt}\colorbox{Orange}{\ref{#1}}}
%
% (Beskrivning saknas.)
\clubpenalty=9990
\widowpenalty=9999
\brokenpenalty=4999
%
% En uppsättning makron för naturlig typsättning av elektriska och elektroniska
% nätverk. Används till kretsdiagramen i kapitel x.
\usepackage[
  european,
  cuteinductors,
  smartlabels
]{circuitikz}
%
% (Beskrivning saknas.)
\usepackage[framemethod=TikZ]{mdframed}
%
% (Beskrivning saknas.)
\mdfdefinestyle{FactBox}{
    linecolor=blue,
    outerlinewidth=2pt,
    roundcorner=20pt,
    innertopmargin=\baselineskip,
    innerbottommargin=\baselineskip,
    innerrightmargin=20pt,
    innerleftmargin=20pt,
    backgroundcolor=gray!50!white}
\newcommand{\infobox}[1]{
\begin{figure}%[r][0.5\textwidth]
  \begin{mdframed}[style=FactBox]
#1
  \end{mdframed}
\end{figure}
}
%
% (Beskrivning saknas.)
\usepackage{multirow}
\usepackage{xtab}
%
% Detta paket ger användarkontroll över layouten för de tre grundläggande
% listmiljöerna: enumerate, itemize and description.
\usepackage{enumitem}
%
% (Beskrivning saknas.)
\usepackage{graphicx}
%
\raggedbottom
%
% Läs in information från versionshanteringen så att den finns tillgänglig
% för sidan med tryckinformation.
\usepackage{xstring}
\usepackage{catchfile}
\CatchFileDef{\HEAD}{SHA.tmp}{}
\CatchFileDef{\branch}{branch.tmp}{}
\newcommand{\gitrevision}{%
  \StrLeft{\HEAD}{7}%
}
\CatchFileDef{\VERSION}{VERSION.txt}{}
\newcommand{\revision}{%
  \VERSION (\branch \gitrevision)%
}
%
% Bakgrundsbild till framsidan.
\usepackage{eso-pic}
\newcommand\BackgroundPic{%
\put(0,0){%
\parbox[b][\paperheight]{\paperwidth}{%
\vfill
\centering
\includegraphics[width=\paperwidth,height=\paperheight,%
keepaspectratio]{images/koncept-front.jpg}%
\vfill
}}}


\newcommand\Backgroundtwo{%
\put(0,0){%
\parbox[b][\paperheight]{\paperwidth}{%
\vfill
\centering
\includegraphics[width=\paperwidth,height=\paperheight,%
keepaspectratio]{images/koncept-larobok-front.jpg}%
\vfill
}}}
%
%
%
\newcommand\BackgroundPicLast{%
\put(0,0){%
\parbox[b][\paperheight]{\paperwidth}{%
\centering%
\vfill%
%\includegraphics[width=6cm]{images/isbn_9789186368234}%
%\includegraphics[width=\paperwidth,height=\paperheight]{images/koncept-back.pdf}%
\vfill%
}}}
%
% \usepackage{paralist}
%
% Gör så att båda kolumnerna på sista sidan i ett kapitel är lika höga.
\usepackage{balance}
%
% Paketet gör små förändringar i teckenjusteringen så raderna passar bättre.
\usepackage[
  activate={true,nocompatibility},
  final,
  tracking=true,
  factor=1000,
  stretch=40,
  shrink=20,
  babel=true
]{microtype}
%
% (Beskrivning saknas.)
\usepackage{stfloats}
% \usepackage{blindtext, subfig}
%
% (Beskrivning saknas.)
\newcommand{\erp}{ERP}
\newcommand{\eirp}{EIRP}
\newcommand{\pep}{PEP}
%
% (Beskrivning saknas.)
\newcommand{\signal}[1]{\texttt{#1}}
%
%% k7per: The harecsection macro is used to enclose a list of harec commands, it also takes care of making
%% sure the paragraph afterwards in no indenented, making sections with harec tags look the sme as sections
%% without.
\makeatletter
\def\harecsection#1{\begingroup\raggedleft\scriptsize HAREC #1\par\endgroup\@afterindentfalse\@afterheading}
\makeatother
% \def\harec#1#2#3{\textbf{#1.\ref{HAREC.#1.#2}}\label{myHAREC.#1.#3}}
\def\harec#1#2#3{{\scriptsize#1.#2\label{myHAREC.#1.#3}}}

\makeatletter
\providecommand\add@text{}
\newcommand\tagaddtext[1]{%
  \gdef\add@text{#1\gdef\add@text{}}}% 
\renewcommand\tagform@[1]{%
  \maketag@@@{\llap{\add@text\quad}(\ignorespaces#1\unskip\@@italiccorr)}%
}
\makeatother

% \usepackage{dblfloatfix}
\usepackage{float}
\usepackage{placeins}
\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}p{#1}}
%
% Paketet ger omfattande möjligheter, både för att konstruera sidhuvuden och
% sidfötter, och för att kontrollera deras användning.
\usepackage{fancyhdr}
\pagestyle{fancy}
\lhead{}
\chead{}
\rhead{}
\cfoot{}
\fancyfoot[LE,RO]{\thepage}
\renewcommand{\headrulewidth}{0pt}
%
% This fixes page numbering on chapter head pages
\fancypagestyle{plain}{
  \fancyhf{}
  \fancyfoot[LE,RO]{\thepage}
  \renewcommand{\headrulewidth}{0pt}}

\renewcommand{\bfdefault}{b}
\SetMathAlphabet{\mathbf}{normal}{OT1}{cmr}{b}{n}

\usepackage[raggedright]{titlesec}
\titlespacing{\chapter}{0pt}{1cm}{1cm}
%%\titleformat{\chapter}[hang]{\Huge\bfseries}{\thechapter\hsp\textcolor{gray75}{|}\hsp}{0pt}{\Huge\bfseries}
\titleformat{\chapter}[hang]{\Huge\bfseries}{\fcolorbox{black}{black}{\color{white}\,\thechapter\,}~~}{0pt}{\Huge\bfseries}

%%\headheight = 12.6pt

%% \setsecnumdepth{subsection}
\setcounter{secnumdepth}{3}

% Figure macros
\newcommand{\bottomwidefigure}[4][0.6]{
  \begin{figure*}[b]
    \centering
    \includegraphics[width=#1\textwidth]{#2}
    \caption{#3}
    \label{#4}
    \vspace{-10pt}
  \end{figure*}
}

\newcommand{\smallfig}[4][0.4]{
  \begin{figure}[t]
    \centering
    \includegraphics[width=#1\textwidth]{#2}
    \caption{#3}
    \label{#4}
    \vspace{-10pt}
  \end{figure}
}

\newcommand{\smallbotfig}[4][0.4]{
  \begin{figure}[t]
    \centering
    \includegraphics[width=#1\textwidth]{#2}
    \caption{#3}
    \label{#4}
    \vspace{-10pt}
  \end{figure}
}

\newcommand{\smallfigpad}[4][0.4]{
  \begin{figure}[t]
    \begin{center}
    \bigskip
    \includegraphics[width=#1\textwidth]{#2}
    \caption{#3}
    \label{#4}
    \vspace{-10pt}
    \end{center}
  \end{figure}
}

% Figure macros
\newcommand{\smallpagefig}[4][0.4]{
  \begin{figure*}[p]
    \centering
    \includegraphics[width=#1\textwidth]{#2}
    \caption{#3}
    \label{#4}
    \vspace{-10pt}
  \end{figure*}
}

\newcommand{\multifig}[4][0.4]{
  \begin{figure}[ht]
    \centering
    \foreach \i in {#2} {
      \includegraphics[width=#1\textwidth]{\i}
    }
    \caption{#3}
    \label{#4}
    \vspace{-10pt}
  \end{figure}
}

\newcommand{\pagemultifig}[4][0.4]{
  \begin{figure}[pbt]
    \centering
    \foreach \i in {#2} {
      \includegraphics[width=#1\textwidth]{\i}
    }
    \caption{#3}
    \label{#4}
    \vspace{-10pt}
  \end{figure}
}

\newcommand{\talltopfig}[4][0.4]{
  \begin{figure*}[t]
    \centering
    \includegraphics[width=#1\textwidth]{#2}
    \caption{#3}
    \label{#4}
    \vspace{-10pt}
  \end{figure*}
}

\newcommand{\tallfig}[4][0.4]{
  \begin{figure}
    \centering
    \includegraphics[width=#1\textwidth]{#2}
    \caption{#3}
    \label{#4}
    \vspace{-10pt}
  \end{figure}
}

\newcommand{\mediumfig}[4][0.7]{
  \begin{figure*}[bt]
    \begin{center}
      \includegraphics[width=#1\textwidth]{#2}
      \caption{#3}
      \label{#4}
    \end{center}
  \end{figure*}
}

\newcommand{\mediumfigpad}[4][0.7]{
  \begin{figure*}[bt]
    \begin{center}
      \bigskip
      \includegraphics[width=#1\textwidth]{#2}
      \caption{#3}
      \label{#4}
    \end{center}
  \end{figure*}
}

\newcommand{\mediumbotfig}[4][0.7]{
  \begin{figure*}[b]
    \begin{center}
      \includegraphics[width=#1\textwidth]{#2}
      \caption{#3}
      \label{#4}
    \end{center}
  \end{figure*}
}
\newcommand{\mediumminusbotfig}[4][0.6]{
  \begin{figure*}[b]
    \begin{center}
      \includegraphics[width=#1\textwidth]{#2}
      \caption{#3}
      \label{#4}
    \end{center}
  \end{figure*}
}

\newcommand{\mediumtopfig}[4][0.7]{
  \begin{figure*}[t]
    \begin{center}
      \includegraphics[width=#1\textwidth]{#2}
      \caption{#3}
      \label{#4}
    \end{center}
  \end{figure*}
}

\newcommand{\mediumherefig}[4][0.7]{
  \begin{figure*}[h!]
    \begin{center}
      \includegraphics[width=#1\textwidth]{#2}
      \caption{#3}
      \label{#4}
    \end{center}
  \end{figure*}
}

\newcommand{\mediumminustopfig}[4][0.6]{
  \begin{figure*}[t]
    \begin{center}
      \includegraphics[width=#1\textwidth]{#2}
      \caption{#3}
      \label{#4}
    \end{center}
  \end{figure*}
}

\newcommand{\mediumplustopfig}[4][0.8]{
  \begin{figure*}[t]
    \begin{center}
      \includegraphics[width=#1\textwidth]{#2}
      \caption{#3}
      \label{#4}
    \end{center}
  \end{figure*}
}

\newcommand{\mediumplusbotfig}[4][0.8]{
  \begin{figure*}[b]
    \begin{center}
      \includegraphics[width=#1\textwidth]{#2}
      \caption{#3}
      \label{#4}
    \end{center}
  \end{figure*}
}

\newcommand{\medfig}[4]{
  \begin{figure*}[t]
    \begin{center}
      \includegraphics[width=#1\textwidth]{#2}
      \caption{#3}
      \label{#4}
    \end{center}
  \end{figure*}
}

\newcommand{\pagefig}[4][0.7]{
  \begin{figure*}[pbt]
    \begin{center}
      \includegraphics[width=#1\textwidth]{#2}
      \caption{#3}
      \label{#4}
    \end{center}
  \end{figure*}
}

\newcommand{\hpfig}[4][0.6]{
  \onecolumn
  \begin{figure}[h]
    \begin{center}
      \includegraphics[width=#1\textwidth]{#2}
      \caption{#3}
      \label{#4}
    \end{center}
  \end{figure}
  \twocolumn
}

\newcommand{\largefig}[4][0.9]{
  \begin{figure*}
    \begin{center}
      \includegraphics[width=#1\textwidth]{#2}
      \caption{#3}
      \label{#4}
    \end{center}
  \end{figure*}
}

\newcommand{\smalltikz}[3]{
  \begin{figure}[t]
    \begin{center}
      #1
      \caption{#2}
      \label{#3}
    \end{center}
    \vspace{-20pt}
  \end{figure}
}
\newcommand{\smalltikzfloat}[3]{
  \begin{figure*}[t]
    \begin{center}
      #1
      \caption{#2}
      \label{#3}
    \end{center}
    \vspace{-20pt}
  \end{figure*}
}

\newcommand{\mediumtikz}[3]{
  \begin{figure*}[t]
    \begin{center}
      \resizebox{0.6\textwidth}{!}{%
        #1
        }%
      \caption{#2}
      \label{#3}
    \end{center}
    \vspace{-20pt}
  \end{figure*}
}
%
% (Beskrivning saknas.)
\newsavebox\TBox
\def\textoverline#1{\savebox\TBox{#1}%
  \makebox[0pt][l]{#1}\rule[1.1\ht\TBox]{\wd\TBox}{0.4pt}}
%
% (Beskrivning saknas.)
\usepackage[textfont=sf,labelfont={bf, sf},margin=10pt]{caption}
%
% (Beskrivning saknas.)
\usepackage{threeparttable}
%
% (Beskrivning saknas.)
\usepackage[symbol]{footmisc}
%
% (Beskrivning saknas.)
\usepackage{morse}
%
% (Beskrivning saknas.)
\usepackage{scalerel}
%% \semiisopage[12]
%
% Avstavningsregler -- lägg till här, inte i den löpande texten. Enda undantaget
% skulle vara ord med streck i, till vi får en bra lösning på det, babel's "- kanske.
\hyphenation{
  amatör-ra-dio-signaler
  amatör-radio-certi-fikat
  amatör-radio-sänd-ar-en
  an-tenn-sys-tem
  antenn-ens
  bär-vågs-am-pli-tud
  efter-som
  el-ek-tro-mag-net-isk
  elektronrörs-epoken
  extra-isolerad
  fas-änd-ring-en
  for-mel-snu-r-r-an
  fre-kvens-mod-ul-ati-on
  frekvens-karaktäristiken
  frekvens-ändring
  för-utom
  halv-led-ar-ele-ment
  impedans-anpassade
  ko-ax-ial-kab-el-arrangemang
  kvarts-kristaller
  mat-nings-im-pe-den-sen
  materie-formerna
  mat-nings-im-pe-dan-sen
  MAY-DAY
  min-d-re
  mo-du-ler-ing
  nät-an-slu-ten
  o-läm-p-li-gt
  puls-kod-mo-du-la-tion
  puls-läng-ds
  radio-vågor
  re-so-nans-krets
  serie-kretsen
  skarv-sladdar
  sys-tem-jord
  tantal-elek-tro-lyt-kondensatorer
  var-an-d-ra
  våg-av-böj-ning
  vä-xel-st-rö-m-s-krets
}
%
% Begränsa antalet nivåer i innehållsförteckningen.
\setcounter{tocdepth}{1}
%
% (Beskrivning saknas.)
\usepackage{tocloft}
%
% (Beskrivning saknas.)
\setlength\cftsecnumwidth{3em}
%
% (Beskrivning saknas.)
\usepackage{makeidx}
\makeindex
%
% Teckensnittet är en Sans-Serif-utveckling med öppen källkod från Adobe.
% Paketet tillhandahåller typsnitt (i både Adobe Type 1- och OpenType-format)
% och makron som stödjer deras användning.
\usepackage[black,default]{sourcesanspro}
%
% Här slutar inställningarna.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Här börjar innehållet.
\begin{document}
%
% Infoga framsidan och tryckortssidan.
\include{koncept/frontpage}
\include{koncept/tryckort}
%
% (Beskrivning saknas.)
\pagenumbering{gobble}
%
% (Beskrivning saknas.)
\cleardoublepage
%
% Infoga innehållsförteckningen.
\tableofcontents
%
% Infoga försättsblad, förord och introduktion.
\include{koncept/preface}
\include{koncept/foreword}
\include{koncept/introduction}
%
\cleardoublepage
\pagenumbering{arabic}
\setcounter{page}{5}
%
% Infoga alla kapitel och appendix.
\input{koncept/inkludera-kapitel}
\input{koncept/inkludera-appendix}
%
\cleardoublepage
%
% Infoga sakregistret.
\printindex
%
\newcommand*\cleartoleftpage{%
  \clearpage
  \ifodd\value{page}\hbox{}\newpage\fi
}
%
\cleartoleftpage
%
% Infoga baksidan.
\input{koncept/backpage}
%
% Här tar boken slut.
\end{document}
